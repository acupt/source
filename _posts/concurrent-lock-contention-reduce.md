---
title: æ¢ç´¢JAVAå¹¶å‘ - å¦‚ä½•å‡å°‘é”çš„ç«äº‰
date: 2019-08-04 23:20:00
tags:
 - çº¿ç¨‹
 - å¹¶å‘
 - é”
categories: å¹¶å‘ç¼–ç¨‹
---

> é”çš„ç«äº‰ä¼šé™åˆ¶ä»£ç çš„å¯ä¼¸ç¼©æ€§ï¼Œåœ¨å¹¶å‘ç¼–ç¨‹æ—¶é€šè¿‡ä¸€äº›æ‰‹æ®µæœ‰æ„åœ°å‡å°‘é”ç«äº‰ï¼Œå¯ä»¥è®©ç¨‹åºæœ‰æ›´å¥½çš„è¡¨ç°ã€‚

æ‰€è°“å¯ä¼¸ç¼©æ€§ï¼Œå³å½“å¢åŠ è®¡ç®—èµ„æº(å¦‚CPUã€å†…å­˜ã€å¸¦å®½ç­‰)æ—¶ï¼Œç¨‹åºçš„ååé‡æˆ–å¤„ç†èƒ½åŠ›ä¼šç›¸åº”å¢åŠ ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å½“ç„¶å¸Œæœ›å¢åŠ çš„æ•ˆæœè¶Šæ˜æ˜¾è¶Šå¥½ï¼Œä¸è¿‡å¦‚æœé”ç«äº‰å¤ªä¸¥é‡ï¼Œå¯ä¼¸ç¼©æ€§ä¼šå¤§æ‰“æŠ˜æ‰£ã€‚

## ç¼©å°é”çš„èŒƒå›´

å½“æŸä¸ªæ–¹æ³•éœ€è¦æ“ä½œä¸€ä¸ªçº¿ç¨‹ä¸å®‰å…¨çš„å…±äº«èµ„æºæ—¶ï¼Œæœ€ç®€å•çš„åŠæ³•å°±æ˜¯ç»™æ–¹æ³•åŠ ä¸Šsynchronizedï¼Œè¿™æ ·ä¸€æ¥è¿™ä¸ªæ–¹æ³•åªèƒ½åŒæ—¶æœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œï¼Œæ»¡æ»¡çš„å®‰å…¨æ„Ÿã€‚

```java
public class Counter {

    private volatile int value;

    public synchronized void incr(int n) {
        System.out.println("i will incr " + n);
        try {
            // è¿™ä¸ªå°å°çš„ç¡çœ ä»£è¡¨ä¸€äº›çº¿ç¨‹å®‰å…¨çš„æ“ä½œ
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        System.out.println("i am ready");
        value = value + n;
        System.out.println("i incr " + n);
    }

    //...
}
```

ä¸Šè¿°ç¤ºä¾‹çš„åŒæ­¥æ–¹æ³•ä¸­æœ‰ä¸ªè€—æ—¶1ç§’çš„å‡†å¤‡è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯çº¿ç¨‹å®‰å…¨ï¼Œä½†ç”±äºèº«åœ¨åŒæ­¥æ–¹æ³•ä¸­ï¼Œä¼—çº¿ç¨‹ä¸å¾—ä¸æ’é˜Ÿç¡è§‰ã€‚è¿™æ—¶å€™ä¸ç®¡å¢åŠ å¤šå°‘ä¸ªçº¿ç¨‹ï¼Œç¨‹åºè¯¥ç¡å¤šä¹…è¿˜æ˜¯ç¡å¤šä¹…ã€‚è‹¥æ˜¯æŠŠè¿™ä¸ªæ­¥éª¤ä»åŒæ­¥ä»£ç å—ä¸­ç§»é™¤ï¼Œå¤§å®¶å°±èƒ½å¹¶å‘ç¡è§‰ã€‚

```java
public class Counter {

    private volatile int value;

    public void incr(int n) {
        System.out.println("i will incr " + n);
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        System.out.println("i am ready");
        synchronized (this) {
            // åªæœ‰è¿™è¡Œä»£ç æ˜¯ä¸èƒ½å¹¶å‘æ‰§è¡Œçš„
            value = value + n;
        }
        System.out.println("i incr " + n);
    }

    //...
}
```

é€šè¿‡ä¸Šè¿°ç¤ºä¾‹å°±è®©çº¿ç¨‹åœ¨æŒæœ‰é”æ—¶éœ€è¦æ‰§è¡Œçš„æŒ‡ä»¤å°½å¯èƒ½å°ï¼Œå¹¶å‘çš„æ•ˆç‡æ›´é«˜äº†ã€‚

ä½†å¦‚æœå¤šä¸ªçº¿ç¨‹ä¸å®‰å…¨çš„æ“ä½œä¹‹é—´éš”ç€ä¸€äº›å®‰å…¨çš„è€—æ—¶æ“ä½œï¼Œæ˜¯åˆ†åˆ«ä½¿ç”¨åŒæ­¥å—ï¼Œè¿˜æ˜¯ç”¨ä¸€ä¸ªåŒæ­¥å—ï¼Œå¹¶ä¸èƒ½è¯´è°ä¸€å®šå¥½ã€‚å› ä¸ºåŒæ­¥ä»£ç å—ä¹Ÿæ˜¯æœ‰é¢å¤–æ€§èƒ½å¼€é”€çš„ï¼Œæ¯”èµ·åŒæ­¥æ‰§è¡Œæ— å…³çš„æ“ä½œï¼Œä¸ä¸€å®šåˆ’ç®—ï¼Œè¿˜æ˜¯éœ€è¦é€šè¿‡æµ‹è¯•ï¼Œç”¨æ•°æ®è¯´è¯ã€‚

## å‡å°é”ç²’åº¦ - é”åˆ†è§£

å¦‚æœä¸€ä¸ªé”è¦ç”¨æ¥ä¿æŠ¤å¤šä¸ªç›¸äº’ç‹¬ç«‹çš„èµ„æºï¼Œå¯ä»¥è€ƒè™‘ç”¨å¤šä¸ªé”åˆ†åˆ«ä¿æŠ¤æŸä¸ªèµ„æºï¼Œå³é”åˆ†è§£ã€‚

å¦‚æ­¤è¿™èˆ¬ï¼Œå°±ä¸ç”¨åœ¨åªéœ€è¦æ“ä½œä¸€ä¸ªèµ„æºæ—¶ï¼ŒæŠŠå…¶å®ƒä¸ç›¸å¹²èµ„æºä¹Ÿå·å…¥å…¶ä¸­ï¼Œå¯¼è‡´å…¶å®ƒæƒ³ç”¨èµ„æºçš„çº¿ç¨‹çœ‹ç€è¿™ä¸ªçº¿ç¨‹å ç€èŒ…å‘ä¸æ‹‰ğŸ’©ï¼ˆæˆ–è€…å ç€æ•´ä¸ªå•æ‰€æ›´æ°å½“ï¼Ÿï¼‰ã€‚

### ä½¿ç”¨ä¸€ä¸ªé”ä¿æŠ¤å¤šä¸ªèµ„æº

ä¸‹é¢è¿™ä¸ªç¤ºä¾‹ï¼Œä¸ç®¡æƒ³æ“ä½œå“ªä¸ªèµ„æºï¼Œéƒ½ä¼šæŠŠæ‰€æœ‰èµ„æºéƒ½é”ä½ã€‚

```java
public class Counter {

    private volatile int src1;
    private volatile int src2;
    private volatile int src3;

    public synchronized void incr(int src1, int src2, int src3) {
        this.src1 += src1;
        this.src2 += src2;
        this.src3 += src3;
    }
}
```

### ä¸€ä¸ªé”ä¿æŠ¤ä¸€ä¸ªèµ„æº

é€šè¿‡é”åˆ†è§£ï¼Œæ¯ä¸ªèµ„æºæœ‰å®ƒè‡ªå·±çš„é”ï¼Œå¯ä»¥å•ç‹¬æ“ä½œã€‚å¦‚æœæƒ³å…¼å®¹æ—§ä»£ç ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚

```java
public class Counter {

    private volatile int src1;
    private volatile int src2;
    private volatile int src3;

    // å…¼å®¹æ—§ä»£ç ï¼Œä¸ç”¨ä¿®æ”¹è°ƒç”¨çš„åœ°æ–¹
    public void incr(int src1, int src2, int src3) {
        if (src1 != 0) {
            incrSrc1(src1);
        }
        if (src2 != 0) {
            incrSrc2(src2);
        }
        if (src3 != 0) {
            incrSrc3(src3);
        }
    }

    public synchronized void incrSrc1(int n) {
        this.src1 += n;
    }

    public synchronized void incrSrc2(int n) {
        this.src2 += n;
    }

    public synchronized void incrSrc3(int n) {
        this.src3 += n;
    }
}
```

## å‡å°é”ç²’åº¦ - é”åˆ†æ®µ

é”åˆ†æ®µæ˜¯é”åˆ†è§£çš„è¿›ä¸€æ­¥æ‰©å±•ï¼Œå¯¹äºä¸€ç»„èµ„æºé›†åˆï¼Œå¯ä»¥æŠŠèµ„æºåˆ†ä¸ºå¤šä¸ªå°ç»„ï¼Œæ¯ä¸ªå°ç»„ç”¨ä¸€ä¸ªé”æ¥ä¿æŠ¤ï¼Œæ¯”å¦‚æˆ‘ä»¬ç†ŸçŸ¥çš„ConcurrentHashMap(java8ä¸­å·²ç»ä¸å†ä½¿ç”¨åˆ†æ®µé”äº†ï¼Œæ”¹ä¸ºsynchronized + cas)ã€‚

ç”¨çš„java8ï¼Œä¸èƒ½åˆ†æä¸€æ³¢ConcurrentHashMapçš„åˆ†æ®µé”äº†ï¼Œå†™ä¸ªä¾‹å­ã€‚

```java
public class Counter {

    private int[] src;

    private Object[] locks;

    /**
     * @param nSrc   èµ„æºæ•°é‡
     * @param nLocks åˆ†æˆå‡ æ®µé”
     */
    public Counter(int nSrc, int nLocks) {
        src = new int[nSrc];
        locks = new Object[nLocks];
        for (int i = 0; i < nLocks; i++) {
            locks[i] = new Object();
        }
    }

    /**
     * @param idx è¦è®¿é—®çš„èµ„æºåºå·
     * @param n   å¢é‡
     */
    public void incr(int idx, int n) {
        // æ ¹æ®ä¸€å®šè§„åˆ™ï¼ˆæ¯”å¦‚hashï¼‰æ‰¾åˆ°ç›®æ ‡èµ„æºå½’è°ç®¡
        synchronized (locks[idx % locks.length]) {
            src[idx] += n;
        }
    }

    //...
}
```

## é¿å…çƒ­ç‚¹åŸŸ

ä¸Šé¢çš„ä¾‹å­é€šè¿‡é”åˆ†æ®µå‡å°äº†é”çš„ç«äº‰ï¼Œå› ä¸ºè®¿é—®ä¸åŒæ®µçš„èµ„æºæ—¶ï¼Œéœ€è¦çš„é”æ˜¯ä¸åŒçš„ï¼Œç«äº‰å‹åŠ›ä¹Ÿéšä¹‹å‡å°ã€‚æ¯•ç«Ÿæ¯”èµ·10ä¸ªäººç«äº‰ä¸€ä¸ªåé¢ï¼Œ10ä¸ªäººç«äº‰5ä¸ªåé¢çš„è¯å¤§å®¶å†²çªä¸ä¼šé‚£ä¹ˆå¤§ã€‚

ä½†æ˜¯ï¼Œä¾ç„¶ä¼šå­˜åœ¨éœ€è¦åŒæ—¶è®¿é—®å¤šä¸ªèµ„æºçš„æƒ…å†µï¼Œæ¯”å¦‚è®¡ç®—å½“å‰æ‰€æœ‰èµ„æºçš„æ€»å’Œï¼Œè¿™ä¸ªæ—¶å€™é”çš„ç²’åº¦å°±å¾ˆéš¾é™ä½äº†ã€‚å½“é”çš„ç²’åº¦æ— æ³•é™ä½æ—¶ï¼Œä¸ºäº†å‡å°‘ç­‰å¾…çš„æ—¶é—´ï¼Œæœºæ™ºçš„ç¨‹åºå‘˜å¾€å¾€ä¼šç”¨ä¸€äº›ä¼˜åŒ–æªæ–½ï¼Œæ¯”å¦‚æŠŠè®¡ç®—çš„ç»“æœç¼“å­˜èµ·æ¥ï¼Œçƒ­ç‚¹åŸŸå°±éšä¹‹è¢«å¼•å…¥äº†ã€‚

ä¾ç„¶ä»¥ä¸Šé¢çš„ä»£ç ä¸ºä¾‹ï¼Œå¢åŠ ä¸€ä¸ªè®¡æ•°å™¨æ¥è®°å½•èµ„æºçš„å˜åŒ–ï¼Œæ¯ä¸ªèµ„æºå˜åŒ–éƒ½ä¿®æ”¹è®¡æ•°å™¨ï¼Œè¿™æ ·å½“éœ€è¦ç»Ÿè®¡æ‰€æœ‰èµ„æºæ—¶ï¼Œåªéœ€è¦è¿”å›è®¡æ•°å™¨çš„å€¼å°±è¡Œäº†ã€‚è¿™ä¸ªè®¡æ•°å™¨å°±æ˜¯ä¸€ä¸ªçƒ­ç‚¹åŸŸã€‚

### å…¨å±€è®¡æ•°å™¨å¼•å…¥çƒ­ç‚¹åŸŸ

```java
public class Counter {

    private int[] src;

    private Object[] locks;

    // å…¨å±€è®¡æ•°å™¨
    private volatile int count;

    /**
     * @param nSrc   èµ„æºæ•°é‡
     * @param nLocks åˆ†æˆå‡ æ®µé”
     */
    public Counter(int nSrc, int nLocks) {
        src = new int[nSrc];
        locks = new Object[nLocks];
        for (int i = 0; i < nLocks; i++) {
            locks[i] = new Object();
        }
    }

    /**
     * @param idx è¦è®¿é—®çš„èµ„æºåºå·
     * @param n   å¢é‡
     */
    public void incr(int idx, int n) {
        // æ ¹æ®ä¸€å®šè§„åˆ™ï¼ˆæ¯”å¦‚hashï¼‰æ‰¾åˆ°ç›®æ ‡èµ„æºå½’è°ç®¡
        synchronized (locks[idx % locks.length]) {
            src[idx] += n;
        }
        // ä¸ç®¡æ“ä½œå“ªä¸ªåˆ†æ®µçš„èµ„æºï¼Œè®¡æ•°æ—¶éƒ½ç«äº‰åŒä¸€ä¸ªé”
        synchronized (this) {
            count++;
        }
    }

    // ç›´æ¥è¿”å›ç¼“å­˜çš„å€¼
    public int count() {
        return count;
    }
    
    //...
}
```

### åˆ†æ®µè®¡æ•°å™¨é¿å…çƒ­ç‚¹åŸŸ

ä¸Šè¿°é€šè¿‡å…¨å±€è®¡æ•°å™¨ç¼“å­˜è®¡ç®—çš„ç»“æœè™½ç„¶è®©è·å–è®¡æ•°æ–¹æ³•çš„å¼€é”€ä»O(n)å˜æˆäº†O(1)ï¼Œä½†å´å¼•å…¥äº†çƒ­ç‚¹åŸŸï¼Œæ¯æ¬¡è®¿é—®èµ„æºéƒ½è¦è®¿é—®åŒä¸€ä¸ªè®¡æ•°å™¨ï¼Œè¿™æ—¶å€™å¯¹å¯ä¼¸ç¼©æ€§å°±äº§ç”Ÿäº†ä¸€å®šå½±å“ï¼Œå› ä¸ºä¸ç®¡æ€ä¹ˆå¢åŠ å¹¶å‘èµ„æºï¼Œåœ¨è®¿é—®è®¡æ•°å™¨æ—¶éƒ½ä¼šæœ‰ç«äº‰ã€‚

ConcurrentHashMapä¸­çš„åšæ³•æ˜¯ä¸ºæ¯æ®µæ•°æ®å•ç‹¬ç»´æŠ¤ä¸€ä¸ªè®¡æ•°å™¨ï¼Œç„¶åè·å–æ€»æ•°æ—¶å†å¯¹æ‰€æœ‰åˆ†æ®µçš„è®¡æ•°åšä¸€ä¸ªç´¯åŠ ï¼ˆçœŸå®æƒ…å†µä¼šæ›´å¤æ‚ï¼Œæ¯”å¦‚ConcurrentHashMapä¼šè®¡ç®—ä¸¤æ¬¡modCountå¹¶æ¯”è¾ƒï¼Œå¦‚æœä¸ç›¸ç­‰è¡¨ç¤ºè®¡ç®—è¿‡ç¨‹æœ‰å˜åŠ¨ï¼Œå°±ä¼šç»™æ‰€æœ‰åˆ†æ®µåŠ é”å†ç´¯åŠ ï¼‰ã€‚

å¯¹å…¨å±€è®¡æ•°å™¨çš„ä¾‹å­åšäº†ç®€å•çš„æ”¹å†™ï¼Œå»æ‰äº†çƒ­ç‚¹åŸŸã€‚ä½†æ¢ä¸ªè§’åº¦ï¼Œè¿™æ ·å´ä¹Ÿè®©è·å–æ€»æ•°çš„æ–¹æ³•æ€§èƒ½å—åˆ°äº†å½±å“ï¼Œå› æ­¤å®é™…æ“ä½œæ—¶è¿˜éœ€è¦æ ¹æ®ä¸šåŠ¡åœºæ™¯æƒè¡¡åˆ©å¼Šã€‚é±¼å’Œç†ŠæŒä¸å¯å…¼å¾—ï¼Œè™½ç„¶å¾ˆæƒ³è¯´æˆ‘å…¨éƒ½è¦ã€‚

```java
public class Counter {

    private int[] src;

    private Lock[] locks;

    /**
     * @param nSrc   èµ„æºæ•°é‡
     * @param nLocks åˆ†æˆå‡ æ®µé”
     */
    public Counter(int nSrc, int nLocks) {
        src = new int[nSrc];
        locks = new Lock[nLocks];
        for (int i = 0; i < nLocks; i++) {
            locks[i] = new Lock();
        }
    }

    /**
     * @param idx è¦è®¿é—®çš„èµ„æºåºå·
     * @param n   å¢é‡
     */
    public void incr(int idx, int n) {
        // æ ¹æ®ä¸€å®šè§„åˆ™ï¼ˆæ¯”å¦‚hashï¼‰æ‰¾åˆ°ç›®æ ‡èµ„æºå½’è°ç®¡
        int lockIdx = idx % locks.length;
        synchronized (locks[lockIdx]) {
            src[idx] += n;
            locks[lockIdx].count++;
        }
    }

    public int count() {
        // å°±ä¸åƒConcurrentHashMapé‚£ä¹ˆä¸¥è°¨äº†ï¼Œæ„æ€ä¸€ä¸‹
        int sum = 0;
        for (Lock lock : locks) {
            sum += lock.count;
        }
        return sum;
    }

    // é”
    private static class Lock {
        volatile int count;
    }

    //...
}
```

## æ›¿ä»£ç‹¬å é”

æœ‰æ—¶å€™å¯ä»¥é€‰æ‹©æ”¾å¼ƒä½¿ç”¨ç‹¬å é”ï¼Œæ”¹ç”¨æ›´åŠ å‹å¥½çš„å¹¶å‘æ–¹å¼ã€‚

### è¯»å†™é”

> è¯»å†™é”(ReentrantReadWriteLock)ç»´æŠ¤äº†ä¸€å¯¹é”ï¼ˆä¸€ä¸ªè¯»é”å’Œä¸€ä¸ªå†™é”ï¼‰ï¼Œé€šè¿‡åˆ†ç¦»è¯»é”å’Œå†™é”ï¼Œä½¿å¾—å¹¶å‘æ€§ç›¸æ¯”ä¸€èˆ¬çš„æ’ä»–é”æœ‰äº†å¾ˆå¤§æå‡ã€‚

åœ¨è¯»æ¯”å†™å¤šçš„åœºæ™¯ä¸‹ï¼Œä½¿ç”¨è¯»å†™é”å¾€å¾€æ¯”ä¸€èˆ¬çš„ç‹¬å é”æœ‰æ›´å¥½çš„æ€§èƒ½è¡¨ç°ã€‚

### åŸå­å˜é‡

> åŸå­å˜é‡å¯ä»¥é™ä½çƒ­ç‚¹åŸŸçš„æ›´æ–°å¼€é”€ï¼Œä½†æ— æ³•æ¶ˆé™¤ã€‚

java.util.concurrent.atomic.* åŒ…ä¸‹æœ‰ä¸€äº›å¯¹åº”åŸºæœ¬ç±»å‹çš„åŸå­å˜é‡ç±»ï¼Œä½¿ç”¨äº†æ“ä½œç³»ç»Ÿåº•å±‚çš„èƒ½åŠ›ï¼Œä½¿ç”¨CAS(æ¯”è¾ƒå¹¶äº¤æ¢ï¼Œcompare-and-swap)æ›´æ–°å€¼ã€‚

## æ£€æµ‹CPUåˆ©ç”¨ç‡

é€šè¿‡æ£€æµ‹CPUçš„åˆ©ç”¨ç‡ï¼Œåˆ†æå‡ºå¯èƒ½é™åˆ¶ç¨‹åºæ€§èƒ½çš„ç‚¹ï¼Œåšå‡ºç›¸åº”æªæ–½ã€‚

### CPUåˆ©ç”¨ç‡ä¸å‡åŒ€

å¤šæ ¸çš„æœºå™¨ä¸Šï¼Œå¦‚æœæŸä¸ªCPUå¿™æˆğŸ¶ï¼Œå…¶å®ƒCPUå°±åœ¨æ—è¾¹å–Š666ï¼Œé‚£è¯æ˜å½“å‰ç¨‹åºçš„çš„å¤§éƒ¨åˆ†è®¡ç®—å·¥ä½œéƒ½ç”±ä¸€å°ç»„çº¿ç¨‹åœ¨åšã€‚è¿™æ—¶å€™å¯ä»¥è€ƒè™‘æŠŠè¿™éƒ¨åˆ†å·¥ä½œå¤šæ‹†åˆ†å‡ ä¸ªçº¿ç¨‹æ¥åšï¼ˆæ¯”å¦‚å‚è€ƒCPUæ•°ï¼‰ã€‚

![ä¸€äººå¹²æ´»å¤šäººå›´è§‚](/img/emoji/ä¸€äººå¹²æ´»å¤šäººå›´è§‚.jpeg) 

### CPUåˆ©ç”¨ä¸å……åˆ†

å’ŒCPUåˆ©ç”¨ç‡ä¸å‡åŒ€çš„åŒºåˆ«åœ¨äºï¼Œä»–å¯èƒ½æ˜¯å‡åŒ€çš„ï¼Œå°±æ˜¯å¤§å®¶éƒ½åœ¨ç£¨æ´‹å·¥ã€‚

![ç£¨æ´‹å·¥](/img/emoji/ç£¨æ´‹å·¥.gif) 

CPUåˆ©ç”¨ä¸å……åˆ†ä¸€èˆ¬æœ‰ä¸€ä¸‹å‡ ä¸ªåŸå› ï¼š

+ è´Ÿè½½ä¸å‡è¡¡ï¼šåƒ§å¤šç²¥å°‘ï¼Œä¸€äººèƒ½åˆ†ç‚¹äº‹åšå°±ä¸é”™äº†ã€‚è¿™ç§æƒ…å†µå¯ä»¥è€ƒè™‘å¢åŠ å·¥ä½œé‡ï¼Œä¸è¦æ€œæƒœå®ƒä»¬ï¼›
+ I/Oå¯†é›†ï¼šç¨‹åºå°±ä¸æ˜¯CPUå¯†é›†å‹çš„ï¼Œè¿™ç§æƒ…å†µå¯ä»¥æƒ³åŠæ³•å¢åŠ I/Oæ•ˆç‡ï¼ˆæ¯”å¦‚å¢åŠ ä»»åŠ¡/å¹¶å‘ã€æé«˜å¸¦å®½ï¼‰ï¼Œä»¥æ­¤æ¥ä½¿CPUåˆ©ç”¨ç‡å¾—åˆ°ä¸€å®šæé«˜ï¼›
+ å¤–éƒ¨ä¾èµ–é™åˆ¶ï¼šæ¯”å¦‚è°ƒç”¨å…¶å®ƒæœåŠ¡ç­‰å¾…å¤ªä¹…ï¼Œç“¶é¢ˆåœ¨åˆ«äººé‚£ã€‚å¯ä»¥åƒI/Oå¯†é›†é‚£æ ·è‡ªæˆ‘æå‡ï¼Œå®åŠ›è¶³å¤Ÿçš„è¯ä¹Ÿå¯ä»¥æ”¹å˜åˆ«äººï¼›
+ é”ç«äº‰ï¼šæœ¬æ–‡æ¢ç´¢çš„ä¸»é¢˜ï¼Œå¯ä»¥åœ¨çº¿ç¨‹è½¬å‚¨ä¿¡æ¯ä¸­å¯»æ‰¾ç­‰å¾…é”çš„åœ°æ–¹ï¼Œå› åœ°åˆ¶å®œã€‚

### CPUå¿™ç¢Œ

> é—²ä¹Ÿä¸è¡Œï¼Œå¿™ä¹Ÿä¸è¡Œï¼Œä½ è¿˜è¦æˆ‘æ€æ ·ï¼Ÿè¦æ€æ ·ï¼

å¦‚æœCPUä»¬å·²ç»å¾ˆå¿™äº†ï¼Œè¯æ˜å·¥ä½œè¿˜æ˜¯å¾ˆé¥±å’Œçš„ï¼Œå¦‚æœè¿˜æƒ³æé«˜æ•ˆç‡ï¼Œå¯ä»¥è€ƒè™‘åŠ æ´¾CPUäº†ã€‚ä¸è¿‡å¹¶ä¸æ˜¯å¢åŠ äº†CPUæ•ˆç‡å°±ä¸€å®šä¼šæå‡ï¼Œå¢åŠ CPUåå¯èƒ½åˆä¼šå˜æˆä¸Šé¢ä¸¤ç§æƒ…å†µï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ªç¯ï¼Œå½“å¾ªç¯åœæ­¢ï¼ˆæ— æ³•é€šè¿‡ä¸Šé¢çš„æ–¹å¼å¾—åˆ°æœ‰æ•ˆä¼˜åŒ–ï¼‰ï¼Œæˆ‘ä»¬çš„åº”ç”¨åŸºæœ¬ä¸Šè¾¾åˆ°ä¸€ä¸ªæ‰€è°“â€œæé™â€äº†ã€‚

## ä¸ä½¿ç”¨å¯¹è±¡æ± 

çº¿ç¨‹æ± çš„åº”ç”¨èŒƒå›´å¾ˆå¹¿ï¼Œæ¯”å¦‚å„ç§è¿æ¥æ± ã€‚å½“åº”ç”¨åˆ›å»ºæ¯”è¾ƒè€—æ—¶ã€è€—èµ„æºæ—¶ä¹Ÿå¸¸ç”¨å¯¹è±¡æ± æŠ€æœ¯ã€‚ä½†æœ‰æ—¶å€™ï¼Œé«˜å¹¶å‘ä¸‹æ“ä½œå¯¹è±¡æ± å¸¦æ¥çš„æ€§èƒ½æŸè€—ï¼ˆçº¿ç¨‹åŒæ­¥ã€é”ç«äº‰ã€é˜»å¡...ï¼‰å¯èƒ½æ¯”èµ·åœ¨éœ€è¦çš„æ—¶å€™ç›´æ¥newä¸€ç›´å¯¹è±¡æ›´å¤§ã€‚

> é€šå¸¸ï¼Œå¯¹è±¡åˆ†é…æ“ä½œçš„å¼€é”€æ¯”çº¿ç¨‹åŒæ­¥çš„å¼€é”€æ›´ä½ã€‚

## æ€»ç»“

æ€»çš„æ¥è¯´æœ‰3ç§æ–¹å¼å¯ä»¥é™ä½é”çš„ç«äº‰ç¨‹åº¦ï¼Œä¸Šé¢çš„æ“ä½œåŸºæœ¬éƒ½æ˜¯å›´ç»•è¿™3ç§æ–¹å¼æ¥åšçš„ï¼š

1. å‡å°‘é”çš„æŒæœ‰æ—¶é—´ï¼ˆå¦‚ï¼šç¼©å°é”èŒƒå›´ï¼‰
2. é™ä½é”çš„è¯·æ±‚é¢‘ç‡ï¼ˆå¦‚ï¼šé”åˆ†è§£ï¼Œé”åˆ†æ®µï¼‰
3. ä½¿ç”¨å¸¦æœ‰åè°ƒæœºåˆ¶çš„ç‹¬å é”ï¼ˆå¦‚ï¼šåˆ†æ®µé”ï¼Œè¯»å†™é”ï¼‰

> å‚è€ƒä¹¦ç±: ã€ŠJavaå¹¶å‘ç¼–ç¨‹å®æˆ˜ã€‹